<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>D-NAV Definitions</title>
<style>
:root{
  --bg:#0b0f14;--card:#121821;--muted:#8fa1b7;--text:#e9eef5;
  --green:#3ecf8e;--red:#ff6b6b;--amber:#f3b431;--blue:#69a9ff;--ink:#cfe1ff
}
*{box-sizing:border-box;font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial}
body{background:var(--bg);color:var(--text);margin:0;padding:24px}
a{color:var(--ink);text-decoration:underline;text-underline-offset:3px}
.wrap{max-width:1100px;margin:0 auto;display:grid;gap:16px}
.header{display:flex;align-items:flex-end;justify-content:space-between;gap:12px;flex-wrap:wrap}
.h1{font-weight:900;font-size:28px;margin:0}
.muted{color:var(--muted)}
.card{background:var(--card);border-radius:16px;padding:18px;box-shadow:0 10px 24px rgba(0,0,0,.35)}
.grid-2{display:grid;gap:12px;grid-template-columns:1fr 1fr}
.grid-3{display:grid;gap:12px;grid-template-columns:repeat(3,1fr)}
@media (max-width:900px){.grid-2,.grid-3{grid-template-columns:1fr}}
h2{margin:0 0 8px;font-size:18px}
h3{margin:0 0 6px;font-size:12px;color:#9fb1c7;text-transform:uppercase;letter-spacing:.3px}
.p{margin:6px 0 0;line-height:1.55;color:#d7e2ef}
.kv{display:flex;align-items:flex-start;gap:10px}
.kv .k{min-width:118px;color:#a7b4c7}
.code{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;background:rgba(255,255,255,.06);padding:2px 6px;border-radius:6px}
.small{font-size:12px;color:#9fb1c7}
.tiny{font-size:12px;color:#aab8cc}
.note{font-size:14px;color:#cfe1ff}
.hr{height:1px;background:rgba(255,255,255,.08);margin:8px 0}
.nav{display:flex;gap:12px;flex-wrap:wrap}

.pill{display:inline-block;padding:3px 7px;border-radius:999px;font-weight:800;font-size:10.5px;line-height:1;white-space:nowrap}
.green{background:rgba(62,207,142,.18);color:var(--green);border:1px solid rgba(62,207,142,.4)}
.amber{background:rgba(243,180,49,.18);color:var(--amber);border:1px solid rgba(243,180,49,.35)}
.red{background:rgba(255,107,107,.18);color:var(--red);border:1px solid rgba(255,107,107,.4)}
.blue{background:rgba(105,169,255,.18);color:var(--blue);border:1px solid rgba(105,169,255,.35)}

.signals{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
.sig{border-bottom:1px solid rgba(255,255,255,.08);padding-bottom:8px}
.sig .line{margin-top:4px}
.sig .def{margin-top:4px;font-size:12px;color:#aab8cc}

.ingredients-grid{display:grid;gap:12px;grid-template-columns:repeat(3,1fr)}
@media (max-width:900px){.ingredients-grid{grid-template-columns:1fr}}
.spacer{min-height:1px}

/* Archetypes grid */
.archgrid{display:grid;gap:10px;grid-template-columns:repeat(3,1fr)}
@media (max-width:900px){.archgrid{grid-template-columns:1fr}}
.arch{background:rgba(255,255,255,.04);border-radius:12px;padding:12px}
.arch .name{font-weight:800}
.arch .meta{margin-top:6px;display:flex;gap:6px;align-items:center}
.arch .desc{color:#c9d4e6;margin-top:6px;font-size:13px;line-height:1.4}

/* micro chips for P/S/R signs */
.chip{display:inline-block;padding:2px 6px;border-radius:999px;font-weight:800;font-size:10px;letter-spacing:.3px;border:1px solid transparent}
.chip.pPlus{background:rgba(255,107,107,.18);border-color:rgba(255,107,107,.35);color:var(--red)}
.chip.pZero{background:rgba(243,180,49,.18);border-color:rgba(243,180,49,.35);color:var(--amber)}
.chip.pMinus{background:rgba(62,207,142,.18);border-color:rgba(62,207,142,.35);color:var(--green)}
.chip.sPlus{background:rgba(62,207,142,.18);border-color:rgba(62,207,142,.35);color:var(--green)}
.chip.sZero{background:rgba(243,180,49,.18);border-color:rgba(243,180,49,.35);color:var(--amber)}
.chip.sMinus{background:rgba(255,107,107,.18);border-color:rgba(255,107,107,.35);color:var(--red)}
.chip.rPlus{background:rgba(62,207,142,.18);border-color:rgba(62,207,142,.35);color:var(--green)}
.chip.rZero{background:rgba(243,180,49,.18);border-color:rgba(243,180,49,.35);color:var(--amber)}
.chip.rMinus{background:rgba(255,107,107,.18);border-color:rgba(255,107,107,.35);color:var(--red)}

/* Simple key/value table */
.kvtbl{display:grid;grid-template-columns:180px 1fr;gap:8px}
.kvtbl .k{color:#9fb1c7}
.kvtbl .v{color:#e5eefb}

/* callouts */
.call{border-left:3px solid var(--blue);padding:8px 10px;background:rgba(105,169,255,.08);border-radius:8px}
.warn{border-left:3px solid var(--amber);background:rgba(243,180,49,.08)}
.good{border-left:3px solid var(--green);background:rgba(62,207,142,.08)}
.bad{border-left:3px solid var(--red);background:rgba(255,107,107,.08)}
</style>
</head>
<body>
<div class="wrap">

  <div class="header">
    <div>
      <h1 class="h1">D-NAV Definitions</h1>
      <div class="muted">The language and signals behind faster, clearer decisions.</div>
    </div>
    <div class="nav">
      <a href="/index.html" class="small">← Back to D-NAV</a>
      <a href="#ingredients" class="small">Core ingredients</a>
      <a href="#signals" class="small">Derived signals</a>
      <a href="#merit-drive" class="small">Merit & Drive</a>
      <a href="#composite" class="small">Composite (D-NAV)</a>
      <a href="#compare" class="small">Compare Mode</a>
      <a href="#learning" class="small">Learning & Momentum</a>
      <a href="#windows" class="small">Rolling Windows</a>
      <a href="#category" class="small">Category Stats</a>
      <a href="#return-hygiene" class="small">Return Hygiene</a>
      <a href="#thresholds" class="small">Thresholds</a>
      <a href="#archetypes" class="small">Archetypes</a>
      <a href="#notation" class="small">Notation</a>
    </div>
  </div>

  <!-- Core Ingredients -->
  <div id="ingredients" class="card section">
    <h2>Core ingredients (1–10 each)</h2>
    <div class="ingredients-grid">
      <div>
        <h3>Impact</h3>
        <p class="p">Upside/importance if it works.</p>
      </div>
      <div>
        <h3>Cost</h3>
        <p class="p">Time • money • effort • focus.</p>
      </div>
      <div>
        <h3>Risk</h3>
        <p class="p">Downside, what could go wrong.</p>
      </div>
      <div>
        <h3>Urgency</h3>
        <p class="p">How soon action is needed.</p>
      </div>
      <div>
        <h3>Confidence</h3>
        <p class="p">Evidence & readiness to execute.</p>
      </div>
      <div class="spacer"></div>
    </div>
    <div class="note" style="margin-top:8px">
      Scoring is <b>in-the-moment</b>: <span class="code">1 = minimal</span>, <span class="code">10 = maximum</span>.
      You’re rating how it <i>feels right now</i> — tomorrow’s “10” might change with new info or context.
    </div>
  </div>

  <!-- Derived Signals -->
  <div id="signals" class="card section">
    <h2>Derived signals</h2>
    <div class="signals">
      <div class="sig">
        <h3>Return</h3>
        <div class="line tiny"><span class="code">Return = Impact − Cost</span></div>
        <div class="def">
          Value after cost:
          <span class="pill green">Positive</span>
          <span class="pill amber">Neutral</span>
          <span class="pill red">Negative</span>.
        </div>
      </div>
      <div class="sig">
        <h3>Stability</h3>
        <div class="line tiny"><span class="code">Stability = Confidence − Risk</span></div>
        <div class="def">
          Survivability:
          <span class="pill green">Stable</span>
          <span class="pill amber">Uncertain</span>
          <span class="pill red">Fragile</span>.
        </div>
      </div>
      <div class="sig">
        <h3>Pressure</h3>
        <div class="line tiny"><span class="code">Pressure = Urgency − Confidence</span></div>
        <div class="def">
          Execution stress:
          <span class="pill green">Calm (&lt; 0)</span>
          <span class="pill amber">Balanced (≈ 0)</span>
          <span class="pill red">Pressured (&gt; 0)</span>.
        </div>
      </div>
    </div>
    <div class="tiny" style="margin-top:8px;">
      We group them to expose different risks: <b>Return</b> (unit economics), <b>Stability</b> (survivability), <b>Pressure</b> (execution risk).
      Strategic short-term negative return can be fine — keep stability ≥ 0 and prevent runaway pressure.
    </div>
  </div>

  <!-- Merit & Drive -->
  <div id="merit-drive" class="card section">
    <h2>Merit & Drive</h2>
    <div class="grid-2">
      <div>
        <h3>Merit</h3>
        <div class="kv"><div class="k">Formula</div><div class="v"><span class="code">Merit = Impact − Cost − Risk</span></div></div>
        <p class="p">Inherent quality of the bet (unit economics minus risk drag).</p>
      </div>
      <div>
        <h3>Drive</h3>
        <div class="kv"><div class="k">Formula</div><div class="v"><span class="code">Drive = Urgency × Confidence</span></div></div>
        <p class="p">Applied energy — how hard & how ready you’ll push now.</p>
      </div>
    </div>
  </div>

  <!-- Composite -->
  <div id="composite" class="card section">
    <h2>Composite (D-NAV)</h2>
    <div class="kv"><div class="k">Formula</div><div class="v"><span class="code">D-NAV = (Impact − Cost − Risk) + (Urgency × Confidence)</span></div></div>
    <div class="hr"></div>
    <p class="p">
      D-NAV blends <b>Merit</b> (quality of the bet) with <b>Drive</b> (execution momentum).
      High D-NAV = a strong bet and/or a strong push — always read <b>Return</b>, <b>Stability</b>, and <b>Pressure</b> to avoid hidden traps and slow bleeds.
    </p>
  </div>

  <!-- Compare Mode -->
  <div id="compare" class="card section">
    <h2>Compare Mode</h2>
    <p class="p">Side-by-side comparison between a <b>Base</b> scenario and a <b>Scenario</b> you adjust with sliders.</p>
    <div class="kvtbl" style="margin-top:8px">
      <div class="k">Delta (Δ)</div><div class="v"><span class="code">ΔX = X<sub>Scenario</sub> − X<sub>Base</sub></span>. Positive = Scenario is higher.</div>
      <div class="k">ΔReturn</div><div class="v"><span class="code">Δ(Impact − Cost)</span> — net value change after cost.</div>
      <div class="k">ΔStability</div><div class="v"><span class="code">Δ(Confidence − Risk)</span> — survivability change.</div>
      <div class="k">ΔPressure</div><div class="v"><span class="code">Δ(Urgency − Confidence)</span> — execution stress change.</div>
      <div class="k">ΔD-NAV</div><div class="v"><span class="code">Δ[(Impact − Cost − Risk) + (Urgency × Confidence)]</span> — overall quality × push change.</div>
    </div>
    <div class="hr"></div>
    <h3>Smallest Nudge (optimizer hint)</h3>
    <p class="p">
      Recommends the single 1-point slider change that maximizes <b>ΔD-NAV</b> while respecting a pressure posture.
      By default we avoid sustained <b>Pressured</b> states (target <span class="code">Pressure ≤ 0</span>) and keep <b>Stability ≥ 0</b> when possible.
      In “lottery” cases where <span class="code">Urgency = 10</span> and <span class="code">Confidence = 10</span>, <span class="code">Pressure = 0</span> (Balanced) and <b>Drive</b> is already maxed — the nudge will prefer Impact↑ or Cost/Risk↓ rather than forcing pressure lower.
    </p>
    <div class="call small">
      Narrative insight (2 lines) explains <i>why</i> ΔD-NAV moved: e.g., “Return ↑ via Impact (cost unchanged). Stability flat. Pressure +1 — acceptable short-term given clear upside.”
    </div>
  </div>

  <!-- Learning & Momentum -->
  <div id="learning" class="card section">
    <h2>Learning Curve & Momentum</h2>
    <p class="p">We track short-, mid-, and long-horizon learning signals across your decision stream and by category.</p>
    <div class="kvtbl" style="margin-top:8px">
      <div class="k">Learning Curve Index (LCI)</div>
      <div class="v">
        Recovery efficiency after dips: <span class="code">LCI = Rebound / Drawdown</span>.
        <span class="pill green">&gt;1.0</span> = over-recovery; <span class="pill amber">≈1.0</span> = full recovery; <span class="pill red">&lt;1.0</span> = under-recovery.
      </div>

      <div class="k">Momentum<sub>n</sub></div>
      <div class="v">
        Trend velocity over the last <span class="code">n</span> decisions via least-squares slope on a moving average:
        <span class="code">Momentum<sub>n</sub> = slope(MA<sub>n</sub>(D-NAV))</span>. Also for <span class="code">Return</span>, <span class="code">Stability</span>, <span class="code">Pressure</span>.
      </div>

      <div class="k">MA / EMA</div>
      <div class="v">
        <span class="code">MA<sub>n</sub>(X)</span> = rolling average; <span class="code">EMA<sub>n</sub>(X)</span> = faster, recent-weighted.
      </div>

      <div class="k">Cross-category effect</div>
      <div class="v">
        Decisions in one arena can influence another (attention/energy budgets). We show both global momentum and per-category momentum so you can see when Finance improvements coincide with a Product slowdown, etc.
      </div>
    </div>
    <div class="small" style="margin-top:6px">
      Defaults: short = 15, mid = 50, long = 100 decisions. Short = steering; mid = course; long = climate.
    </div>
  </div>

  <!-- Rolling Windows -->
  <div id="windows" class="card section">
    <h2>Rolling Windows</h2>
    <div class="grid-3">
      <div>
        <h3>Short (15)</h3>
        <p class="p">Captures immediate behavior shifts — ideal for testing tiny nudges.</p>
      </div>
      <div>
        <h3>Mid (50)</h3>
        <p class="p">Stabilizes noise; shows whether tactics are compounding or stalling.</p>
      </div>
      <div>
        <h3>Long (100)</h3>
        <p class="p">Baselines and resilience over time; helps with seasonality and category comparisons.</p>
      </div>
    </div>
    <div class="call small" style="margin-top:8px">
      Why 15? Long enough to damp randomness, short enough to act quickly. Adjust in Settings to match your cadence.
    </div>
  </div>

  <!-- Category Stats (simplified & clearer) -->
  <div id="category" class="card section">
    <h2>Category Stats</h2>
    <p class="p">Per-category snapshots reduce self-mythology and reveal where attention helps or hurts.</p>
    <div class="kvtbl" style="margin-top:8px">
      <div class="k">Avg (Category)</div>
      <div class="v"><span class="code">Avg<sub>cat</sub>(D-NAV)</span> plus <span class="code">Avg<sub>cat</sub>(Return|Stability|Pressure)</span>.</div>

      <div class="k">Trend (Category)</div>
      <div class="v"><span class="code">Momentum<sub>n</sub><sup>cat</sup>(D-NAV)</span> — is this arena speeding up or slowing down?</div>

      <div class="k">Share of Decisions</div>
      <div class="v">Proportion of your last N decisions in this category (attention allocation).</div>

      <div class="k">Best / Worst Signal</div>
      <div class="v">Which derived signal contributes most positively/negatively (e.g., great Return, fragile Stability).</div>

      <div class="k">Optional Baseline</div>
      <div class="v">Compare to a fixed goal (e.g., “ship ≥ 3/wk”) for quick green/amber/red reads.</div>
    </div>
  </div>

  <!-- Return Hygiene -->
  <div id="return-hygiene" class="card section">
    <h2>Return Hygiene (streaks, debt, payback)</h2>
    <p class="p">Negative Return can be strategic — exploration, learning, moat-building. Track it so “learning” doesn’t become a silent bleed.</p>
    <div class="kvtbl" style="margin-top:8px">
      <div class="k">Loss Streak</div>
      <div class="v">Current/longest run of <span class="code">Return &lt; 0</span> decisions (global and by category).</div>

      <div class="k">Return Debt</div>
      <div class="v">Cumulative sum of negative Return over the streak. How deep is the current hole?</div>

      <div class="k">Payback Ratio</div>
      <div class="v">How many average positive-Return decisions needed to offset the debt. Helps decide when to stop digging.</div>

      <div class="k">Policy Hint</div>
      <div class="v">Set guardrails (e.g., “pause exploration after 3 consecutive losses or if Payback &gt; 2×”).</div>
    </div>
  </div>

  <!-- Thresholds & Flags -->
  <div id="thresholds" class="card section">
    <h2>Thresholds & Flags</h2>
    <div class="kvtbl" style="margin-top:8px">
      <div class="k">Return</div>
      <div class="v"><span class="pill green">&gt; 0</span> Gain; <span class="pill amber">= 0</span> Flat; <span class="pill red">&lt; 0</span> Loss.</div>

      <div class="k">Stability</div>
      <div class="v"><span class="pill green">≥ 0</span> Stable; <span class="pill amber">≈ 0</span> Uncertain; <span class="pill red">&lt; 0</span> Fragile.</div>

      <div class="k">Pressure</div>
      <div class="v"><span class="pill green">&lt; 0</span> Calm; <span class="pill amber">≈ 0</span> Balanced; <span class="pill red">&gt; 0</span> Pressured.</div>

      <div class="k">Narratives</div>
      <div class="v">Tooltips & compare blurbs explain causes: “Return ↑ via Impact; Pressure ↓ as Confidence caught up to Urgency.”</div>
    </div>
  </div>

  <!-- Archetypes -->
  <div id="archetypes" class="card section">
    <h2>Archetypes (Pressure • Stability • Return)</h2>
    <p class="small">Each outcome is defined by the signs of <span class="code">Pressure</span>, <span class="code">Stability</span>, and <span class="code">Return</span> → e.g., P+, S+, R+.</p>
    <div class="archgrid" id="archGrid"></div>
  </div>

  <!-- Notation -->
  <div id="notation" class="card section">
    <h2>Notation</h2>
    <div class="kvtbl" style="margin-top:8px">
      <div class="k"><span class="code">ΔX</span></div>
      <div class="v">Delta (change). Compare: <span class="code">X<sub>Scenario</sub> − X<sub>Base</sub></span>. Time series: <span class="code">X<sub>t</sub> − X<sub>t−1</sub></span>.</div>

      <div class="k"><span class="code">MA<sub>n</sub>(X)</span></div>
      <div class="v">Moving average over the last <span class="code">n</span> decisions.</div>

      <div class="k"><span class="code">EMA<sub>n</sub>(X)</span></div>
      <div class="v">Exponential moving average (more weight on recent points).</div>

      <div class="k"><span class="code">Momentum<sub>n</sub>(X)</span></div>
      <div class="v">Least-squares slope of <span class="code">MA<sub>n</sub>(X)</span> (positive = trending up).</div>

      <div class="k"><span class="code">LCI</span></div>
      <div class="v">Learning Curve Index = <span class="code">Rebound / Drawdown</span> around local dips.</div>

      <div class="k"><span class="code">Loss Streak</span></div>
      <div class="v">Consecutive count of <span class="code">Return &lt; 0</span>.</div>

      <div class="k"><span class="code">Return Debt</span></div>
      <div class="v">Cumulative negative Return awaiting payback.</div>

      <div class="k"><span class="code">Payback Ratio</span></div>
      <div class="v"><span class="code">Return Debt / Avg(positive Return)</span>.</div>
    </div>
  </div>

</div>

<script>
/* One-word names for every P|S|R combo */
const oneWord={
  /* R+ / S+ */  "1|1|1":"Breakthrough","0|1|1":"Advance","-1|1|1":"Harvest",
  /* R+ / S0 */  "1|0|1":"Sprint","0|0|1":"Build","-1|0|1":"Coast",
  /* R+ / S- */  "1|-1|1":"Gamble","0|-1|1":"Moonshot","-1|-1|1":"Prospect",

  /* R0 / S+ */  "1|1|0":"Grind","0|1|0":"Maintain","-1|1|0":"Idle",
  /* R0 / S0 */  "1|0|0":"Firefight","0|0|0":"Routine","-1|0|0":"Drift",
  /* R0 / S- */  "1|-1|0":"Strain","0|-1|0":"Wobble","-1|-1|0":"Teeter",

  /* R- / S+ */  "1|1|-1":"Overreach","0|1|-1":"Erode","-1|1|-1":"Complacency",
  /* R- / S0 */  "1|0|-1":"Burn","0|0|-1":"Waste","-1|0|-1":"Leak",
  /* R- / S- */  "1|-1|-1":"Meltdown","0|-1|-1":"Collapse","-1|-1|-1":"Decay"
};

const Pword = s => s>0?'Pressured':(s<0?'Calm':'Balanced');
const Sword = s => s>0?'Stable':(s<0?'Fragile':'Uncertain');
const Rword = s => s>0?'Gain':(s<0?'Loss':'Flat');

const chipClassP = s => s>0?'pPlus':(s<0?'pMinus':'pZero');
const chipClassS = s => s>0?'sPlus':(s<0?'sMinus':'sZero');
const chipClassR = s => s>0?'rPlus':(s<0?'rMinus':'rZero');

function makeCard(p,s,r){
  const key=[p,s,r].join('|');
  const title = oneWord[key] || `${Pword(p)} ${Sword(s)} ${Rword(r)}`;
  const line  = `${Rword(r)} with ${Sword(s).toLowerCase()} footing; ${Pword(p).toLowerCase()} execution.`;
  return `
    <div class="arch">
      <div class="name">${title}</div>
      <div class="meta">
        <span class="chip ${chipClassP(p)}">P${p>0?'+':(p<0?'-':'0')}</span>
        <span class="chip ${chipClassS(s)}">S${s>0?'+':(s<0?'-':'0')}</span>
        <span class="chip ${chipClassR(r)}">R${r>0?'+':(r<0?'-':'0')}</span>
      </div>
      <div class="desc">${line}</div>
    </div>
  `;
}

/* Render the 27 archetypes (group by Return: Gain, Flat, Loss) */
(function renderArchetypes(){
  const grid = document.getElementById('archGrid');
  const combos=[];
  [-1,0,1].forEach(p=>[-1,0,1].forEach(s=>[-1,0,1].forEach(r=>combos.push({p,s,r}))));
  const key = ({p,s,r})=>`${r===1?0:r===0?1:2}-${s===1?0:s===0?1:2}-${p===1?0:p===0?1:2}`;
  combos.sort((a,b)=>key(a).localeCompare(key(b)));
  grid.innerHTML = combos.map(o=>makeCard(o.p,o.s,o.r)).join('');
})();
</script>
</body>
</html>
